<html>
<head>
    <title>Add a New Coach</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" />
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <script src="https://code.jquery.com/jquery-3.1.0.js"></script>

    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" />
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>
<body>

    <div class="container ">
        <form action="/add_coach" method="POST">

            <div class="form-group">
                <label for="coach_name" class="col-form-label">Coach Name</label>
                <input type="text" class="form-control" id="coach_name" name="coach_name" required>
            </div>

            <div class="form-group">
                <label for="phone" class="col-form-label">Phone:</label>
                <input type="number" class="form-control" id="phone" name="phone">
            </div>

            <div class="form-group">
                <label for="email" class="col-form-label">E-mail:</label>
                <input type="email" class="form-control" id="email" name="email">
            </div>

            <div class="form-group">
                <label for="coach_type" class="col-form-label">Coach Type</label>
                <select class="form-control" id="coach_type" name="coach_type">
                    <option value="Achara">Achara</option>
                    <option value="Vichara">Vichara</option>
                    <option value="Vihara">Vihara</option>
                </select>
            </div>

            <div class="form-group">
                <label for="expertise" class="col-form-label">Expertise</label>
                <select class="form-control" id="expertise" name="expertise">
                    <option value="Beginner">Beginner</option>
                    <option value="Intermediate">Intermediate</option>
                    <option value="Advanced">Advanced</option>
                </select>
            </div>

            <div class="form-group">
                <label for="active_hours" class="col-form-label">Active Hours (Format: 10am to 7pm)</label>
                <input type="text" class="form-control" id="active_hours" name="active_hours">
            </div>

            <div class="form-group">
                <label for="feedback_url" class="col-form-label">Feedback URL</label>
                <input type="url" class="form-control" id="feedback_url" name="feedback_url" >
            </div>

            <div class="form-group">
                <label for="joining_date" class="col-form-label">Joining Date</label>
                <input type="date" class="form-control" id="joining_date" name="joining_date" >
            </div>

            <div class="table-responsive">

                <table class="table table-bordered table-striped" id="addcoachavailabilitytable">
                    <tr>
                        <th>Days</th>
                        <th>Select Slots</th>
                        <th>Select Format</th>
                    </tr>

                    <!-- Row For Sunday Schedule-->
                    <tr>
                        <td>
                            <div class="form-group">
                                <label for="availability_day" class="col-form-label">Sunday</label>
                            </div>
                        </td>

                        <td>
                            <div class="form-group" id="availability_time_sunday">
                                <select class="form-control" id="availability_time_sunday" name="availability_time_sunday" multiple>
                                    <option value="06-07">6-7</option>
                                    <option value="07-08">7-8</option>
                                    <option value="08-09">8-9</option>
                                    <option value="11-12">11-12</option>
                                    <option value="16-17">16-17</option>
                                    <option value="17-18">17-18</option>
                                    <option value="18-19">18-19</option>
                                </select>
                            </div>
                        </td>

                        <td>
                            <div class="form-group">
                                <select class="form-control" id="availability_format_sunday" name="availability_format_sunday">
                                    <option value="Functional Training">Functional Training</option>
                                    <option value="Yoga">Yoga</option>
                                    <option value="Zumba">Zumba</option>
                                </select>
                            </div>
                        </td>
                    </tr>

                    <!-- Row For Monday Schedule-->
                    <tr>
                        <td>
                            <div class="form-group">
                                <label for="availability_day" class="col-form-label">Monday</label>
                            </div>
                        </td>

                        <td>
                            <div class="form-group" id="availability_time_monday">
                                <select class="form-control" id="availability_time_monday" name="availability_time_monday" multiple>
                                    <option value="06-07">6-7</option>
                                    <option value="07-08">7-8</option>
                                    <option value="08-09">8-9</option>
                                    <option value="11-12">11-12</option>
                                    <option value="16-17">16-17</option>
                                    <option value="17-18">17-18</option>
                                    <option value="18-19">18-19</option>
                                </select>
                            </div>
                        </td>

                        <td>
                            <div class="form-group">
                                <select class="form-control" id="availability_format_monday" name="availability_format_monday">
                                    <option value="Functional Training">Functional Training</option>
                                    <option value="Yoga">Yoga</option>
                                    <option value="Zumba">Zumba</option>
                                </select>
                            </div>
                        </td>
                    </tr>

                    <!-- Row For Tuesday Schedule-->
                    <tr>
                        <td>
                            <div class="form-group">
                                <label for="availability_day" class="col-form-label">Tuesday</label>
                            </div>
                        </td>

                        <td>
                            <div class="form-group" id="availability_time_tuesday">
                                <select class="form-control" id="availability_time_tuesday" name="availability_time_tuesday" multiple>
                                    <option value="06-07">6-7</option>
                                    <option value="07-08">7-8</option>
                                    <option value="08-09">8-9</option>
                                    <option value="11-12">11-12</option>
                                    <option value="16-17">16-17</option>
                                    <option value="17-18">17-18</option>
                                    <option value="18-19">18-19</option>
                                </select>
                            </div>
                        </td>

                        <td>
                            <div class="form-group">
                                <select class="form-control" id="availability_format_tuesday" name="availability_format_tuesday">
                                    <option value="Functional Training">Functional Training</option>
                                    <option value="Yoga">Yoga</option>
                                    <option value="Zumba">Zumba</option>
                                </select>
                            </div>
                        </td>
                    </tr>

                    <!-- Row For Wednesday Schedule-->
                    <tr>
                        <td>
                            <div class="form-group">
                                <label for="availability_day" class="col-form-label">Wednesday</label>
                            </div>
                        </td>

                        <td>
                            <div class="form-group" id="availability_time_wednesday">
                                <select class="form-control" id="availability_time_wednesday" name="availability_time_wednesday" multiple>
                                    <option value="06-07">6-7</option>
                                    <option value="07-08">7-8</option>
                                    <option value="08-09">8-9</option>
                                    <option value="11-12">11-12</option>
                                    <option value="16-17">16-17</option>
                                    <option value="17-18">17-18</option>
                                    <option value="18-19">18-19</option>
                                </select>
                            </div>
                        </td>

                        <td>
                            <div class="form-group">
                                <select class="form-control" id="availability_format_wednesday" name="availability_format_wednesday">
                                    <option value="Functional Training">Functional Training</option>
                                    <option value="Yoga">Yoga</option>
                                    <option value="Zumba">Zumba</option>
                                </select>
                            </div>
                        </td>
                    </tr>

                    <!-- Row For Thursday Schedule-->
                    <tr>
                        <td>
                            <div class="form-group">
                                <label for="availability_day" class="col-form-label">Thursday</label>
                            </div>
                        </td>

                        <td>
                            <div class="form-group" id="availability_time_thursday">
                                <select class="form-control" id="availability_time_thursday" name="availability_time_thursday" multiple>
                                    <option value="06-07">6-7</option>
                                    <option value="07-08">7-8</option>
                                    <option value="08-09">8-9</option>
                                    <option value="11-12">11-12</option>
                                    <option value="16-17">16-17</option>
                                    <option value="17-18">17-18</option>
                                    <option value="18-19">18-19</option>
                                </select>
                            </div>
                        </td>

                        <td>
                            <div class="form-group">
                                <select class="form-control" id="availability_format_thursday" name="availability_format_thursday">
                                    <option value="Functional Training">Functional Training</option>
                                    <option value="Yoga">Yoga</option>
                                    <option value="Zumba">Zumba</option>
                                </select>
                            </div>
                        </td>
                    </tr>

                    <!-- Row For Friday Schedule-->
                    <tr>
                        <td>
                            <div class="form-group">
                                <label for="availability_day" class="col-form-label">Friday</label>
                            </div>
                        </td>

                        <td>
                            <div class="form-group" id="availability_time_friday">
                                <select class="form-control" id="availability_time_friday" name="availability_time_friday" multiple>
                                    <option value="06-07">6-7</option>
                                    <option value="07-08">7-8</option>
                                    <option value="08-09">8-9</option>
                                    <option value="11-12">11-12</option>
                                    <option value="16-17">16-17</option>
                                    <option value="17-18">17-18</option>
                                    <option value="18-19">18-19</option>
                                </select>
                            </div>
                        </td>

                        <td>
                            <div class="form-group">
                                <select class="form-control" id="availability_format_friday" name="availability_format_friday">
                                    <option value="Functional Training">Functional Training</option>
                                    <option value="Yoga">Yoga</option>
                                    <option value="Zumba">Zumba</option>
                                </select>
                            </div>
                        </td>
                    </tr>

                    <!-- Row For Saturday Schedule-->
                    <tr>
                        <td>
                            <div class="form-group">
                                <label for="availability_day" class="col-form-label">Saturday</label>
                            </div>
                        </td>

                        <td>
                            <div class="form-group" id="availability_time_saturday">
                                <select class="form-control" id="availability_time_saturday" name="availability_time_saturday" multiple>
                                    <option value="06-07">6-7</option>
                                    <option value="07-08">7-8</option>
                                    <option value="08-09">8-9</option>
                                    <option value="11-12">11-12</option>
                                    <option value="16-17">16-17</option>
                                    <option value="17-18">17-18</option>
                                    <option value="18-19">18-19</option>
                                </select>
                            </div>
                        </td>

                        <td>
                            <div class="form-group">
                                <select class="form-control" id="availability_format_saturday" name="availability_format_saturday">
                                    <option value="Functional Training">Functional Training</option>
                                    <option value="Yoga">Yoga</option>
                                    <option value="Zumba">Zumba</option>
                                </select>
                            </div>
                        </td>
                    </tr>

                </table>
            </div>

            <div class="form-group">
                <button type="submit" value="submit" class="btn btn-primary">Submit</button>
            </div>

        </form>
    </div>

    <script>
    $(document).ready(function () {
        $('#addcoachavailabilitytable').hide();

        $('#coach_type').change(function () {
            if ($('#coach_type option:selected').text() == "Vihara") {
                $('#active_hours').hide();
                $('#addcoachavailabilitytable').show();
            }

            else {
                $('#addcoachavailabilitytable').hide();
            }

        });
    });
    </script>


    <script src="https://www.gstatic.com/firebasejs/5.8.2/firebase.js"></script>
    <script>

        // Initialize Firebase
        var config = {
            apiKey: "AIzaSyDb7onj65ISpKs6vtt2h4agZcamVCurUPU",
            authDomain: "diet-calendar-b3d5a.firebaseapp.com",
            databaseURL: "https://diet-calendar-b3d5a.firebaseio.com",
            projectId: "diet-calendar-b3d5a",
            storageBucket: "diet-calendar-b3d5a.appspot.com",
            messagingSenderId: "357932927864"
        };
        firebase.initializeApp(config);
    </script>

    <script type="text/javascript"
            src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js">
    </script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" />
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" language="javascript">
        $(document).ready(function () {
            var coachRef = firebase.firestore().collection("coaches");
            var allCoaches = coachRef.get().then(snapshot => {
                if (snapshot.empty) {
                }

                snapshot.forEach(doc => {
                    $("#buddy_coach").append(new Option(doc.data().coach_name, doc.data().coach_name));
                });
            })
                .catch(err => {
                    console.log("Error: ", err);
                })
        })
    </script>

</body>
</html>